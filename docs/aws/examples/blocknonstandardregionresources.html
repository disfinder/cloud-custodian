

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Block New Resources In Non-Standard Regions &mdash; Cloud Custodian  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/js/expand.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/expand.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="DMS - DB Migration Service Endpoint - Enforce SSL" href="dmsenforcessl.html" />
    <link rel="prev" title="ASG - Offhours Support" href="asgoffhours.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Cloud Custodian
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filters.html">Generic Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../actions.html">Generic Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/policyStructure.html">Example tag compliance policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">Deployment</a></li>
</ul>
<p class="caption"><span class="caption-text">AWS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Example Policies</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="accountinvalidiplogin.html">Account - Login From Invalid IP Address</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountrootlogin.html">Account - Detect Root Logins</a></li>
<li class="toctree-l2"><a class="reference internal" href="accountservicelimit.html">Account - Service Limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="amicomp.html">AMI - Stop EC2 using Unapproved AMIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="asginvalidconfig.html">AutoScaling Group - Verify ASGs have valid configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="asgoffhours.html">ASG - Offhours Support</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Block New Resources In Non-Standard Regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="dmsenforcessl.html">DMS - DB Migration Service Endpoint - Enforce SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="ebsgarbagecollect.html">EBS - Garbage Collect Unattached Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ebssnapshots.html">EBS - Create and Manage Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="ebsunencrypted.html">EBS - Delete Unencrypted</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2-auto-tag-user.html">EC2 - auto-tag aws userName on resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2offhours.html">EC2 - Offhours Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2oldinstances.html">EC2 - Old Instance Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2poweronstoppedforpatching.html">EC2 - Power On For Scheduled Patching</a></li>
<li class="toctree-l2"><a class="reference internal" href="ec2unpatchedworkflow.html">EC2 - Terminate Unpatchable Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="elbdeleteinetfacing.html">ELB - Delete New Internet-Facing ELBs</a></li>
<li class="toctree-l2"><a class="reference internal" href="elbgarbagecollection.html">ELB - Delete Unused Elastic Load Balancers</a></li>
<li class="toctree-l2"><a class="reference internal" href="elbsslblacklist.html">ELB - SSL Blacklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="elbsslwhitelist.html">ELB - SSL Whitelist</a></li>
<li class="toctree-l2"><a class="reference internal" href="iamsetrolepolicy.html">IAM - Manage Whether A Specific IAM Policy is Attached to Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="lambdaerrorsnotify.html">Lambda - Notify On Lambda Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="offhours.html">Example offhours policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="rdsdeleteunused.html">RDS - Delete Unused Databases With No Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="rdspublicunencrypted.html">RDS - Terminate Unencrypted Public Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3configurenewbucket.html">S3 - Configure New Buckets Settings and Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3denypublicobjectacls.html">S3 - Block Public S3 Object ACLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3encryption.html">S3 - Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3globalgrants.html">S3 - Global Grants</a></li>
<li class="toctree-l2"><a class="reference internal" href="sagemakernotebookdeletepublicorunencrypted.html">SageMaker Notebook - Delete Public or Unencrypted</a></li>
<li class="toctree-l2"><a class="reference internal" href="securitygroupsdetectremediate.html">Security Groups - Detect and Remediate Violations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tagcompliance.html">Tag Compliance Across Resources (EC2, ASG, ELB, S3, etc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpcflowlog.html">VPC - Flow Log Configuration Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="vpcpeeringcrossaccount.html">VPC - Notify On Invalid External Peering Connections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aws-modes.html">AWS Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Monitoring your environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lambda.html">Lambda Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/index.html">AWS Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Azure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../azure/gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/authentication.html">Authentication &amp; Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/policy/index.html">Supported Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/azure-modes.html">Azure Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/advanced/index.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/contribute.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/resources/index.html">Azure Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">GCP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/gettingstarted.html">Getting Started (Beta)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/gcp-modes.html">GCP Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/policy/index.html">Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/contribute.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/contribute.html#adding-new-gcp-resources">Adding New GCP Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/contribute.html#testing">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gcp/resources/index.html">GCP Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/c7n-org.html">c7n-org: Multi Account Custodian Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/c7n-policystream.html">c7n-policystream: Policy Changes from Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/c7n-mailer.html">c7n-mailer: Custodian Mailer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/c7n-trailcreator.html">AWS Retroactive Tagging Resource Creators</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contributing to Cloud Custodian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/installing.html">Installing for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/tests.html">Testing for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/documentation.html">Documentation For Developers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cloud Custodian</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Example Policies</a> &raquo;</li>
        
      <li>Block New Resources In Non-Standard Regions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="block-new-resources-in-non-standard-regions">
<span id="blocknonstandardregionresources"></span><h1>Block New Resources In Non-Standard Regions<a class="headerlink" href="#block-new-resources-in-non-standard-regions" title="Permalink to this headline">¶</a></h1>
<p>The following are examples of Cloud Custodian policies which detect the region
a resource is being launched in and deletes the resource if it’s outside your standard
approved regions.  These examples block the full creation of the resources launched outside
of the us-east-1 and eu-west-1 regions and then emails the event-owner
(the person launching the resource) and the Cloud Team.  This set of policies covers several
of the common AWS services but you may add your desired services if supported by Cloud Custodian.
While a proactive approach through IAM or AWS Organizations policies is the ideal way to go, that
isn’t always possible or manageable for all users.  These policies take a reactive approach and may
be a fitting use case for some users.
For the notify action to work you will need to have installed and configured the Cloud Custodian
c7n-mailer tool.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">policies</span><span class="p">:</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
        <span class="no">Any EC2 instance launched in a non standard region outside</span>
        <span class="no">of us-east-1 and eu-west-1 will be terminated</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">RunInstances</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">terminate</span>
          <span class="nt">force</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;EC2</span><span class="nv"> </span><span class="s">SERVER</span><span class="nv"> </span><span class="s">TERMINATED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">EC2</span><span class="nv"> </span><span class="s">server</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">terminated.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span><span class="nv"> </span><span class="s">the</span>
          <span class="s">server</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">asg-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">asg</span>
  <span class="nt">mode</span><span class="p">:</span>
          <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
          <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">autoscaling.amazonaws.com</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CreateAutoScalingGroup</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">requestParameters.autoScalingGroupName</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new AutoScaling Group is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
          <span class="nt">force</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;ASG</span><span class="nv"> </span><span class="s">TERMINATED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">ASG</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">terminated.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span><span class="nv"> </span><span class="s">the</span>
          <span class="s">ASG</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>



<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app-elb-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app-elb</span>
  <span class="nt">mode</span><span class="p">:</span>
          <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
          <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="s">&quot;elasticloadbalancing.amazonaws.com&quot;</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CreateLoadBalancer</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;requestParameters.name&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Application Load Balancer Group is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;App</span><span class="nv"> </span><span class="s">ELB</span><span class="nv"> </span><span class="s">TERMINATED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">App</span><span class="nv"> </span><span class="s">ELB</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span><span class="nv"> </span><span class="s">the</span>
          <span class="s">App</span><span class="nv"> </span><span class="s">ELB</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">elb-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">elb</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CreateLoadBalancer</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Load Balancer is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;ELB</span><span class="nv"> </span><span class="s">TERMINATED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">ELB</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span><span class="nv"> </span><span class="s">the</span>
          <span class="s">ELB</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">es-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">elasticsearch</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CreateElasticsearchDomain</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Elasticsearch Domain is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;ES</span><span class="nv"> </span><span class="s">DOMAIN</span><span class="nv"> </span><span class="s">TERMINATED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Elasticsearch</span><span class="nv"> </span><span class="s">Domain</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span><span class="nv"> </span><span class="s">the</span>
          <span class="s">Domain</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lambda-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lambda</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lambda.amazonaws.com</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CreateFunction20150331</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;requestParameters.functionName&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Lambda Function is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
        <span class="p p-Indicator">-</span> <span class="nt">not</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">or</span><span class="p">:</span>
                        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
                          <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FunctionName</span>
                          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">regex</span>
                          <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">^(custodian?)\w+</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;LAMBDA</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Lambda</span><span class="nv"> </span><span class="s">Function</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rds-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rds</span>
  <span class="nt">mode</span><span class="p">:</span>
         <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
         <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rds.amazonaws.com</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CreateDBInstance</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;requestParameters.dBInstanceIdentifier&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new RDS is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
          <span class="nt">skip-snapshot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;RDS</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">RDS</span><span class="nv"> </span><span class="s">Database</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rdscluster-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rds-cluster</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CreateCluster</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new RDS Cluster is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
          <span class="nt">skip-snapshot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
          <span class="nt">delete-instances</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;RDS</span><span class="nv"> </span><span class="s">CLUSTER</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">RDS</span><span class="nv"> </span><span class="s">Database</span><span class="nv"> </span><span class="s">Cluster</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">relaunch</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sg-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">security-group</span>
  <span class="nt">mode</span><span class="p">:</span>
          <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
          <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2.amazonaws.com</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CreateSecurityGroup</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;responseElements.groupId&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Security Group is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;SG</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Security</span><span class="nv"> </span><span class="s">Group</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ami-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ami</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="s">&quot;ec2.amazonaws.com&quot;</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="s">&quot;CreateImage&quot;</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;responseElements.imageId&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Amazon Machine Image is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">deregister</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">remove-launch-permissions</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;AMI</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Amazon</span><span class="nv"> </span><span class="s">Machine</span><span class="nv"> </span><span class="s">Image</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CreateBucket</span>
        <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::{account_id}:role/Cloud_Custodian_Role</span>
        <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new S3 Bucket is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
          <span class="nt">remove-contents</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;S3</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">S3</span><span class="nv"> </span><span class="s">Bucket</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dynamo-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dynamodb-table</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CreateTable</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new DynamoDB Table is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;DYNAMODB</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">DynamoDB</span><span class="nv"> </span><span class="s">Table</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kinesis-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kinesis</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="s">&quot;kinesis.amazonaws.com&quot;</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="s">&quot;CreateStream&quot;</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;requestParameters.streamName&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Kinesis Stream is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;KINESIS</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Kinesis</span><span class="nv"> </span><span class="s">Stream</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">firehose-terminate-non-standard-region</span>
  <span class="nt">resource</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">firehose</span>
  <span class="nt">mode</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cloudtrail</span>
        <span class="nt">events</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="nt">source</span><span class="p">:</span> <span class="s">&quot;firehose.amazonaws.com&quot;</span>
                  <span class="nt">event</span><span class="p">:</span> <span class="s">&quot;CreateDeliveryStream&quot;</span>
                  <span class="nt">ids</span><span class="p">:</span> <span class="s">&quot;requestParameters.deliveryStreamName&quot;</span>
  <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">Detect when a new Firehose is created in a non-standard</span>
          <span class="no">region and delete it and notify the customer</span>
  <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">event</span>
          <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;region&quot;</span>
          <span class="nt">op</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">not-in</span>
          <span class="nt">value</span><span class="p">:</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
                  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">eu-west-1</span>
  <span class="nt">actions</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
        <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">notify</span>
          <span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default.html</span>
          <span class="nt">priority_header</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
          <span class="nt">subject</span><span class="p">:</span> <span class="s">&quot;FIREHOSE</span><span class="nv"> </span><span class="s">DELETED</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Non-Standard</span><span class="nv"> </span><span class="s">Region</span><span class="nv"> </span><span class="s">[custodian</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">account</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">}}]&quot;</span>
          <span class="nt">violation_desc</span><span class="p">:</span> <span class="s">&quot;Launching</span><span class="nv"> </span><span class="s">resources</span><span class="nv"> </span><span class="s">outside</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">regions</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">prohibited&quot;</span>
          <span class="nt">action_desc</span><span class="p">:</span> <span class="s">&quot;Actions</span><span class="nv"> </span><span class="s">Taken:</span><span class="nv">  </span><span class="s">Your</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">Firehose</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">been</span><span class="nv"> </span><span class="s">deleted.</span><span class="nv">  </span><span class="s">Please</span><span class="nv"> </span><span class="s">recreate</span>
          <span class="s">in</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">accounts</span><span class="nv"> </span><span class="s">standard</span><span class="nv"> </span><span class="s">region</span><span class="nv"> </span><span class="s">which</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">either</span><span class="nv"> </span><span class="s">eu-west-1</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">us-east-1.&quot;</span>
          <span class="nt">to</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CloudTeam@Company.com</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">event-owner</span>
          <span class="nt">transport</span><span class="p">:</span>
                <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sqs</span>
                <span class="nt">queue</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://sqs.us-east-1.amazonaws.com/XXXXXXXXXXX/cloud-custodian-mailer</span>
                <span class="nt">region</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dmsenforcessl.html" class="btn btn-neutral float-right" title="DMS - DB Migration Service Endpoint - Enforce SSL" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="asgoffhours.html" class="btn btn-neutral float-left" title="ASG - Offhours Support" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Capital One Services, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>